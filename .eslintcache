[{"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\index.js":"1","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\App.jsx":"2","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\SelectMode\\ModeMenu.jsx":"3","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\SliderMenu.jsx":"4","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\FaceMenu.jsx":"5","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\SelectMode.jsx":"6","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\Half.jsx":"7","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\Single.jsx":"8","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\Empty.jsx":"9","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\Facemodel.jsx":"10","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\KeyMap.js":"11"},{"size":152,"mtime":1611889281976,"results":"12","hashOfConfig":"13"},{"size":838,"mtime":1612258863873,"results":"14","hashOfConfig":"13"},{"size":1652,"mtime":1612259195482,"results":"15","hashOfConfig":"13"},{"size":4786,"mtime":1612259274492,"results":"16","hashOfConfig":"13"},{"size":2124,"mtime":1612346976039,"results":"17","hashOfConfig":"13"},{"size":821,"mtime":1611901888987,"results":"18","hashOfConfig":"13"},{"size":1856,"mtime":1611830156399,"results":"19","hashOfConfig":"13"},{"size":947,"mtime":1611830181745,"results":"20","hashOfConfig":"13"},{"size":674,"mtime":1611993381344,"results":"21","hashOfConfig":"13"},{"size":4973,"mtime":1612346974988,"results":"22","hashOfConfig":"13"},{"size":2148,"mtime":1612171025131,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"eid3ou",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\index.js",[],["48","49"],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\App.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\SelectMode\\ModeMenu.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\SliderMenu.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\FaceMenu.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\SelectMode.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\Half.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\Slider\\Single.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\Empty.jsx",[],"E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\Facemodel.jsx",["50","51"],"import React, { useState, useEffect } from 'react'\r\nimport { Card, Popconfirm, message, Modal, Button } from 'antd';\r\nimport CardImg from '../../assets/logo2.png';\r\nimport { CloseOutlined, EditOutlined } from '@ant-design/icons';\r\nimport hotkeys from 'hotkeys-js';\r\n\r\nconst cardSty = {\r\n    background: 'rgba(55,55,55, 0.8)',\r\n    width: '18vw',\r\n    height: '120px',\r\n    float: 'right',\r\n    color: 'rgb(230,230,230)',\r\n    margin: '0 2vw 20px 0',\r\n    borderRadius: \"1vw\",\r\n    padding: '0',\r\n    userSelect: 'none'\r\n};\r\nconst imgSty = { width: '120px', float: 'left', borderRadius: \"1vw 0 0 1vw\" };\r\nconst deleteSty = { float: 'right', margin: '8px 0.8vw 0 0' };\r\nconst txtSty1 = { margin: '28px 0 0 9vw' };\r\nconst txtSty2 = { margin: '12px 0 0 9vw' };\r\nconst editSty1 = { float: 'right', margin: '0' };\r\nconst editSty2 = { float: 'right', margin: '67px 2.6vw 0 0' };\r\nconst KeyMap = require('./KeyMap.js');\r\n\r\n\r\nexport default function Facemodel(prop) {\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [keyFlag, setkeyFlag] = useState(false);\r\n    const [innertxt, setInner] = useState('请输入按键');\r\n\r\n    //快捷键按钮\r\n    const showModal = () => {\r\n        hotkeys.deleteScope('inMenu');\r\n        hotkeys.deleteScope('inModal');\r\n        setIsModalVisible(true);\r\n    };\r\n    const handleOk = () => {\r\n        if (!keyFlag) {\r\n            setIsModalVisible(false);\r\n            hotkeys.deleteScope('inModal');\r\n            prop.useKey();\r\n            hotkeys.setScope('inMenu');         \r\n        }\r\n        else {\r\n            message.info('清先确认按键')\r\n        }\r\n    };\r\n    const handleCancel = () => {\r\n        hotkeys.deleteScope('inModal');\r\n        setInner(\"请输入按键\");\r\n        setIsModalVisible(false);\r\n    };\r\n\r\n\r\n\r\n    //快捷键设定\r\n    const startEdit = () => {\r\n        setkeyFlag(true)\r\n        hotkeys.setScope('inModal');\r\n    }\r\n    const endEdit = () => {\r\n        setkeyFlag(false);\r\n        prop.setKey();\r\n        message.info('按键设置完毕');\r\n        hotkeys.deleteScope('inModal');\r\n    }\r\n\r\n    //删除表情\r\n    const deleteExpression = () => {\r\n        prop.getDeleteInfo(prop.nameKey);\r\n    }\r\n\r\n    const cancel = () => {\r\n        message.error('Click on No');\r\n    }\r\n\r\n\r\n    hotkeys(KeyMap.key, 'inModal', function (event, handler) {\r\n        event.preventDefault();\r\n        setInner(handler.key);\r\n        prop.sendKey(handler.key);\r\n    });\r\n\r\n    const hotkeyName = () => {\r\n        let a = prop.kycache[prop.nameKey]\r\n        if (a) {\r\n            return a.replace(/,/i, \" \");\r\n        } else {\r\n            return '快捷键'\r\n        }\r\n    }\r\n    hotkeys(hotkeyName(), 'inMenu', function () {\r\n        message.info('你通过' + hotkeyName() + '键调用了xxx的功能')\r\n    });\r\n\r\n    // useEffect(() => {\r\n    //     let a = prop.kycache[prop.nameKey];\r\n    //     if(a){\r\n    //         let key=a.replace(/,/i, \" \");\r\n    //         console.log(key);\r\n    //         hotkeys(key, 'inMenu', function () {\r\n    //             message.info('你通过' + key + '键调用了xxx的功能')\r\n    //         });\r\n    //     }else{\r\n    //         console.log(prop.kycache)\r\n    //     }\r\n\r\n    // }, [prop.kycache,prop.nameKey]);\r\n\r\n    useEffect(() => {\r\n        let key = hotkeyName()\r\n        hotkeys(key, 'inMenu', function () {\r\n            message.info('你通过' + key + '键调用了xxx的功能')\r\n        });\r\n    }, [hotkeys()]);\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <Card bordered={false}\r\n                bodyStyle={cardSty}>\r\n                <img src={CardImg} alt=\"\" style={imgSty} />\r\n                <div style={deleteSty}>\r\n                    <Popconfirm\r\n                        title=\"确认删除该表情吗？\"\r\n                        onConfirm={deleteExpression}\r\n                        onCancel={cancel}\r\n                        okText=\"是\"\r\n                        cancelText=\"否\"\r\n                    >\r\n                        <CloseOutlined />\r\n                    </Popconfirm>\r\n                </div>\r\n                <div>\r\n                    <EditOutlined style={editSty2} onClick={showModal} />\r\n                    <Modal title=\"自定义按键编辑\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n                        <Button size=\"small\" onClick={startEdit} block>编辑</Button>\r\n                        <div style={{ fontSize: '20px', margin: '1vw auto', textAlign: 'center' }}>{innertxt}</div>\r\n                        <Button size=\"small\" onClick={endEdit} block>提交</Button>\r\n                    </Modal>\r\n                </div>\r\n                <div style={txtSty1}>哭泣 {prop.nameKey}</div>\r\n                <div style={txtSty2}>{hotkeyName()}</div>\r\n\r\n                <div style={editSty1}>\r\n                    <Button type=\"link\" onClick={() => console.log(keyFlag)}>编辑</Button>\r\n                </div>\r\n            </Card>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n","E:\\Work\\exsiz\\react practice\\ant-desigh\\src\\components\\FaceChange\\KeyMap.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":117,"column":8,"nodeType":"58","endLine":117,"endColumn":19,"suggestions":"59"},{"ruleId":"56","severity":1,"message":"60","line":117,"column":9,"nodeType":"61","endLine":117,"endColumn":18},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'hotkeyName'. Either include it or remove the dependency array.","ArrayExpression",["64"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","CallExpression","no-global-assign","no-unsafe-negation",{"desc":"65","fix":"66"},"Update the dependencies array to be: [hotkeyName]",{"range":"67","text":"68"},[3309,3320],"[hotkeyName]"]